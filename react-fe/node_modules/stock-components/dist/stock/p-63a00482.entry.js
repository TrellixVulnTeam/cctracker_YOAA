import{r as t,h as o,c as i}from"./p-639168a6.js";const e="https://www.alphavantage.co/",s=class{constructor(o){t(this,o),this.isLoading=!1}recievingSymbol(t){this.stockUserInput!==t.detail&&(this.stockUserInput=t.detail,this.fetchStockPrice(this.stockUserInput))}stockSymbolChanged(t,o){console.log("new value : "+t),console.log("old value : "+o),this.stockUserInput!==t&&(this.stockUserInput=t,this.fetchStockPrice(this.stockUserInput))}fetchStockPrice(t){this.isLoading=!0,fetch(`${e}query?function=GLOBAL_QUOTE&symbol=${t}&apikey=W3P5O9YCZ2GO9FP3`).then((t=>t.json())).then((t=>{this.isLoading=!1,this.stockPrice=t["Global Quote"]["05. price"],console.log(this.stockPrice)})).catch((t=>{this.isLoading=!1,console.log("catch"),console.log(t)}))}getStockPrice(t){t.preventDefault(),this.fetchStockPrice(this.stockInput.value)}componentDidLoad(){console.log("component did load method "),this.stockSymbol&&(this.stockUserInput=this.stockSymbol,this.fetchStockPrice(this.stockSymbol))}componentWillLoad(){console.log("componentWillLoad method ")}componentWillUpdate(){console.log("componentWillUpdate method ")}componentDidUpdate(){console.log("componentDidUpdate method ")}disconnectedCallback(){console.log("disconnectedCallback method ")}componentDidUnLoad(){console.log("componentDidUnLoad method ")}render(){console.log("render method");let t="Please enter a Symbol";return this.stockUserInput?this.stockPrice&&(t=`price : ${this.stockPrice}`):t="Please enter a Symbol",this.isLoading&&(t=o("div",{class:"lds-ring"},o("div",null),o("div",null),o("div",null),o("div",null))),o("div",null,o("div",null,o("form",{onSubmit:this.getStockPrice.bind(this)},o("input",{type:"text",ref:t=>{this.stockInput=t},value:this.stockUserInput,onInput:t=>{this.stockUserInput=t.path[0].value}}),o("button",{type:"submit",disabled:this.isLoading},"Fetch"))),o("div",null,t),o("div",null,o("find-stock",null)))}static get watchers(){return{stockSymbol:["stockSymbolChanged"]}}};s.style=".lds-ring{display:inline-block;position:relative;width:80px;height:80px}.lds-ring div{box-sizing:border-box;display:block;position:absolute;width:64px;height:64px;margin:8px;border:8px solid  purple;border-radius:50%;animation:lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;border-color:purple transparent transparent transparent}.lds-ring div:nth-child(1){animation-delay:-0.45s}.lds-ring div:nth-child(2){animation-delay:-0.3s}.lds-ring div:nth-child(3){animation-delay:-0.15s}@keyframes lds-ring{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}";const n=class{constructor(o){t(this,o),this.ucSymbolSelected=i(this,"ucSymbolSelected",7),this.searchResult=[]}getStocksList(t){t.preventDefault(),fetch(`${e}query?function=SYMBOL_SEARCH&keywords=${this.searchInput.value}&apikey=W3P5O9YCZ2GO9FP3`).then((t=>t.json())).then((t=>{console.log(t),this.searchResult=t.bestMatches.map((t=>({name:t["2. name"],symbol:t["1. symbol"]}))),console.log(this.searchResult)})).catch((t=>{console.log(t)}))}onSelectSymbol(t){console.log(t),this.ucSymbolSelected.emit(t)}render(){return o("div",null,o("form",{onSubmit:t=>{this.getStocksList(t)}},o("input",{type:"text",ref:t=>{this.searchInput=t}}),o("button",null,"Find Stocks")),o("ul",null,this.searchResult.map((t=>o("li",{onClick:this.onSelectSymbol.bind(this,t.symbol)}," name : ",t.name," , symbol : ",t.symbol," ")))))}};n.style=":host{display:block}";export{s as custom_stock,n as find_stock}